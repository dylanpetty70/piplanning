{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dylan\\\\source\\\\repos\\\\piplanning-main\\\\src\\\\components\\\\templatePage\\\\editTemplate.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { handleGrabTemplateSimulation, handleNewTemplateSimulation } from '../../actions/simulation';\nimport { handleNewTemplateFeature, handleDeleteTemplateFeature, handleUpdateTemplateFeature, handleNewTemplateStory, handleUpdateTemplateStory } from '../../actions/features';\nimport Form from 'react-bootstrap/Form';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nconst sizing = [1, 2, 3, 5, 8, 13, 20, 40, 100];\nconst types = ['None', 'Enabler', 'Spike'];\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      featName: '',\n      featPriority: '',\n      featDesc: '',\n      featBenefit: '',\n      storyName: '',\n      storySize: '',\n      storyType: '',\n      storyAs: '',\n      storyI: '',\n      storySo: ''\n    };\n    this.features = this.features.bind(this);\n    this.story = this.story.bind(this);\n    this.saveStory = this.saveStory.bind(this);\n    this.saveFeature = this.saveFeature.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.feature !== this.props.feature) {\n      this.setState({\n        featName: '',\n        featPriority: '',\n        featDesc: '',\n        featBenefit: '',\n        storyName: '',\n        storySize: '',\n        storyType: '',\n        storyAs: '',\n        storyI: '',\n        storySo: ''\n      });\n      document.getElementById('featureName').value = this.props.templateSimulation.simulation.features[this.props.feature].name ? this.props.templateSimulation.simulation.features[this.props.feature].name : '';\n      document.getElementById('featurePriority').value = this.props.templateSimulation.simulation.features[this.props.feature].priority ? this.props.templateSimulation.simulation.features[this.props.feature].priority : '';\n      document.getElementById('featureDesc').value = this.props.templateSimulation.simulation.features[this.props.feature].desc ? this.props.templateSimulation.simulation.features[this.props.feature].desc : '';\n      document.getElementById('featureBenefit').value = this.props.templateSimulation.simulation.features[this.props.feature].benefit ? this.props.templateSimulation.simulation.features[this.props.feature].benefit : '';\n    } else if (prevProps.story !== this.props.story) {\n      this.setState({\n        storyName: '',\n        storySize: '',\n        storyType: '',\n        storyAs: '',\n        storyI: '',\n        storySo: ''\n      });\n    }\n  }\n\n  saveStory() {\n    let holder = this.props.templateSimulation.simulation.features[this.props.feature].stories[this.props.story];\n    let data = {\n      key: this.props.story,\n      name: this.state.storyName === '' && holder.name ? holder.name : this.state.storyName,\n      size: this.state.storySize === '' && holder.size ? holder.size : this.state.storySize,\n      type: this.state.storyType === '' && holder.type ? holder.type : this.state.storyType,\n      as: this.state.storyAs === '' && holder.as ? holder.as : this.state.storyAs,\n      i: this.state.storyI === '' && holder.i ? holder.i : this.state.storyI,\n      so: this.state.storySo === '' && holder.so ? holder.so : this.state.storySo\n    };\n    this.props.handleUpdateTemplateStory(this.props.templateSimulation.simulation.key, this.props.feature, this.props.story, data);\n  }\n\n  saveFeature() {\n    let holder = this.props.templateSimulation.simulation.features[this.props.feature];\n    let data = {\n      key: this.props.feature,\n      stories: holder.stories ? holder.stories : '',\n      name: this.state.featName === '' && holder.name ? holder.name : this.state.featName,\n      priority: this.state.featPriority === '' && holder.priority ? holder.priority : String(this.state.featPriority),\n      desc: this.state.featDesc === '' && holder.desc ? holder.desc : this.state.featDesc,\n      benefit: this.state.featBenefit === '' && holder.benefit ? holder.benefit : this.state.featBenefit\n    };\n    this.props.handleUpdateTemplateFeature(this.props.templateSimulation.simulation.key, this.props.feature, data);\n  }\n\n  story() {\n    let temp = [];\n\n    if (this.props.templateSimulation.simulation.features[this.props.feature].stories[this.props.story]) {\n      let data = this.props.templateSimulation.simulation.features[this.props.feature].stories[this.props.story];\n      temp.push( /*#__PURE__*/React.createElement(\"div\", {\n        key: 'story in edit',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"outline-success\",\n        style: {\n          float: 'right'\n        },\n        onClick: () => {\n          this.saveStory();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }\n      }, \"Save Story\"), /*#__PURE__*/React.createElement(\"h5\", {\n        style: {\n          margin: '20px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }, \"Story: \", data.name), /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 37\n        }\n      }, \"Name\")), /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 37\n        }\n      }, \"Size\")), /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 37\n        }\n      }, \"Type\"))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        placeholder: data.name,\n        onChange: text => {\n          this.setState({ ...this.state,\n            storyName: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"select\",\n        defaultValue: data.size ? data.size : '',\n        onChange: text => {\n          this.setState({ ...this.state,\n            storySize: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 37\n        }\n      }, sizing.map(l => /*#__PURE__*/React.createElement(\"option\", {\n        key: 'sizing' + l,\n        value: l,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 45\n        }\n      }, l)))), /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"select\",\n        defaultValue: data.type ? data.type : '',\n        onChange: text => {\n          this.setState({ ...this.state,\n            storyType: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 37\n        }\n      }, types.map(l => /*#__PURE__*/React.createElement(\"option\", {\n        key: 'types' + l,\n        value: l,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 45\n        }\n      }, l))))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 37\n        }\n      }, \"As a...\")), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 37\n        }\n      }, \" I want to...\")), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 37\n        }\n      }, \"So that...\"))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"textarea\",\n        rows: \"4\",\n        placeholder: data.as ? data.as : '',\n        onChange: text => {\n          this.setState({ ...this.state,\n            storyAs: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"textarea\",\n        rows: \"4\",\n        placeholder: data.i ? data.i : '',\n        onChange: text => {\n          this.setState({ ...this.state,\n            storyI: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"textarea\",\n        rows: \"4\",\n        placeholder: data.so ? data.so : '',\n        onChange: text => {\n          this.setState({ ...this.state,\n            storySo: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 37\n        }\n      })))))));\n    }\n\n    return temp;\n  }\n\n  features() {\n    let temp = [];\n\n    if (this.props.feature !== '') {\n      let data = this.props.templateSimulation.simulation.features[this.props.feature];\n      temp.push( /*#__PURE__*/React.createElement(\"div\", {\n        key: 'feat in edit',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"outline-success\",\n        style: {\n          float: 'right'\n        },\n        onClick: () => {\n          this.saveFeature();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }\n      }, \"Save Feature\"), /*#__PURE__*/React.createElement(\"h5\", {\n        style: {\n          margin: '20px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }\n      }, \"Feature: \", data.name), /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 37\n        }\n      }, \"Name\")), /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 37\n        }\n      }, \"Priority\")), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 37\n        }\n      }, \"Desc\")), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 37\n        }\n      }, \"Benefit Hypothesis\"))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        id: \"featureName\",\n        placeholder: data.name,\n        onChange: text => {\n          this.setState({ ...this.state,\n            featName: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        id: \"featurePriority\",\n        as: \"select\",\n        defaultValue: data.priority ? data.priority : '',\n        onChange: text => {\n          this.setState({ ...this.state,\n            featPriority: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        key: \"chosePri\",\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 41\n        }\n      }, \"Choose\"), Object.keys(this.props.templateSimulation.simulation.features).map((l, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: l,\n        value: i + 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 45\n        }\n      }, i + 1)))), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        id: \"featureDesc\",\n        as: \"textarea\",\n        rows: \"4\",\n        placeholder: data.desc ? data.desc : '',\n        onChange: text => {\n          this.setState({ ...this.state,\n            featDesc: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        id: \"featureBenefit\",\n        as: \"textarea\",\n        rows: \"4\",\n        placeholder: data.benefit ? data.benefit : '',\n        onChange: text => {\n          this.setState({ ...this.state,\n            featBenefit: text.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 37\n        }\n      })))))));\n    }\n\n    return temp;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      inline: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      style: {\n        marginRight: '40px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 29\n      }\n    }, \"Edit\"))), this.features(), this.props.story !== '' && this.props.templateSimulation.simulation.features[this.props.feature].stories ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 29\n      }\n    }), this.story()) : /*#__PURE__*/React.createElement(React.Fragment, null))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    templateSimulation: state.templateSimulation\n  };\n};\n\nexport default connect(mapStateToProps, {\n  handleGrabTemplateSimulation,\n  handleNewTemplateSimulation,\n  handleNewTemplateFeature,\n  handleDeleteTemplateFeature,\n  handleUpdateTemplateFeature,\n  handleNewTemplateStory,\n  handleUpdateTemplateStory\n})(Main);","map":{"version":3,"sources":["C:/Users/dylan/source/repos/piplanning-main/src/components/templatePage/editTemplate.js"],"names":["React","Component","connect","handleGrabTemplateSimulation","handleNewTemplateSimulation","handleNewTemplateFeature","handleDeleteTemplateFeature","handleUpdateTemplateFeature","handleNewTemplateStory","handleUpdateTemplateStory","Form","Card","Button","Container","Col","Row","sizing","types","Main","constructor","props","state","featName","featPriority","featDesc","featBenefit","storyName","storySize","storyType","storyAs","storyI","storySo","features","bind","story","saveStory","saveFeature","componentDidUpdate","prevProps","feature","setState","document","getElementById","value","templateSimulation","simulation","name","priority","desc","benefit","holder","stories","data","key","size","type","as","i","so","String","temp","push","float","margin","text","target","map","l","Object","keys","render","width","height","marginRight","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { handleGrabTemplateSimulation, handleNewTemplateSimulation } from '../../actions/simulation';\r\nimport { handleNewTemplateFeature, handleDeleteTemplateFeature, handleUpdateTemplateFeature, handleNewTemplateStory, handleUpdateTemplateStory } from '../../actions/features';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\n\r\nconst sizing = [1, 2, 3, 5, 8, 13, 20, 40, 100];\r\nconst types = ['None', 'Enabler', 'Spike']\r\n\r\nclass Main extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            featName: '',\r\n            featPriority: '',\r\n            featDesc: '',\r\n            featBenefit: '',\r\n            storyName: '',\r\n            storySize: '',\r\n            storyType: '',\r\n            storyAs: '',\r\n            storyI: '',\r\n            storySo: ''\r\n        }\r\n        this.features = this.features.bind(this);\r\n        this.story = this.story.bind(this);\r\n        this.saveStory = this.saveStory.bind(this);\r\n        this.saveFeature = this.saveFeature.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.feature !== this.props.feature){\r\n            this.setState({\r\n                featName: '',\r\n                featPriority: '',\r\n                featDesc: '',\r\n                featBenefit: '',\r\n                storyName: '',\r\n                storySize: '',\r\n                storyType: '',\r\n                storyAs: '',\r\n                storyI: '',\r\n                storySo: ''\r\n            })\r\n\r\n            document.getElementById('featureName').value = (this.props.templateSimulation.simulation.features[this.props.feature].name) ? this.props.templateSimulation.simulation.features[this.props.feature].name : '';\r\n            document.getElementById('featurePriority').value = (this.props.templateSimulation.simulation.features[this.props.feature].priority) ? this.props.templateSimulation.simulation.features[this.props.feature].priority : '';\r\n            document.getElementById('featureDesc').value = (this.props.templateSimulation.simulation.features[this.props.feature].desc) ? this.props.templateSimulation.simulation.features[this.props.feature].desc : '';\r\n            document.getElementById('featureBenefit').value = (this.props.templateSimulation.simulation.features[this.props.feature].benefit) ? this.props.templateSimulation.simulation.features[this.props.feature].benefit: '';\r\n        \r\n        } else if(prevProps.story !== this.props.story){\r\n            this.setState({\r\n                storyName: '',\r\n                storySize: '',\r\n                storyType: '',\r\n                storyAs: '',\r\n                storyI: '',\r\n                storySo: ''\r\n            })\r\n        }\r\n    }\r\n\r\n    saveStory() {\r\n        let holder = this.props.templateSimulation.simulation.features[this.props.feature].stories[this.props.story];\r\n        let data = {\r\n            key: this.props.story,\r\n            name: (this.state.storyName === '' && holder.name) ? holder.name : this.state.storyName,\r\n            size: (this.state.storySize === '' && holder.size) ? holder.size : this.state.storySize,\r\n            type: (this.state.storyType === '' && holder.type) ? holder.type : this.state.storyType,\r\n            as: (this.state.storyAs === '' && holder.as) ? holder.as : this.state.storyAs,\r\n            i: (this.state.storyI === '' && holder.i) ? holder.i : this.state.storyI,\r\n            so: (this.state.storySo === '' && holder.so) ? holder.so : this.state.storySo\r\n        };\r\n        this.props.handleUpdateTemplateStory(this.props.templateSimulation.simulation.key, this.props.feature, this.props.story, data);\r\n    }\r\n\r\n    saveFeature() {\r\n        let holder = this.props.templateSimulation.simulation.features[this.props.feature];\r\n        let data = {\r\n            key: this.props.feature,\r\n            stories: (holder.stories) ? holder.stories : '',\r\n            name: (this.state.featName === '' && holder.name) ? holder.name : this.state.featName,\r\n            priority: (this.state.featPriority === '' && holder.priority) ? holder.priority : String(this.state.featPriority),\r\n            desc: (this.state.featDesc === '' && holder.desc) ? holder.desc : this.state.featDesc,\r\n            benefit: (this.state.featBenefit === '' && holder.benefit) ? holder.benefit : this.state.featBenefit\r\n        };\r\n        this.props.handleUpdateTemplateFeature(this.props.templateSimulation.simulation.key, this.props.feature, data);\r\n    }\r\n\r\n    story() {\r\n        let temp = [];\r\n        if (this.props.templateSimulation.simulation.features[this.props.feature].stories[this.props.story]) {\r\n            let data = this.props.templateSimulation.simulation.features[this.props.feature].stories[this.props.story];\r\n            temp.push(\r\n                <div key={'story in edit'}>\r\n                    <Button variant='outline-success' style={{ float: 'right' }} onClick={() => {this.saveStory()}}>Save Story</Button>\r\n                    <h5 style={{ margin: '20px' }}>Story: {data.name}</h5>\r\n                    <Form>\r\n                        <Container>\r\n                            <Row>\r\n                                <Col sm={2}>\r\n                                    <Form.Label>Name</Form.Label>\r\n                                </Col>\r\n                                <Col sm={2}>\r\n                                    <Form.Label>Size</Form.Label>\r\n                                </Col>\r\n                                <Col sm={2}>\r\n                                    <Form.Label>Type</Form.Label>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col sm={2}>\r\n                                    <Form.Control placeholder={data.name} onChange={(text) => { this.setState({ ...this.state, storyName: text.target.value }); }} />\r\n                                </Col>\r\n                                <Col sm={2}>\r\n                                    <Form.Control as=\"select\" defaultValue={(data.size) ? data.size : ''} onChange={(text) => { this.setState({...this.state, storySize: text.target.value}); }}>\r\n                                        {sizing.map((l) => (\r\n                                            <option key={'sizing' + l} value={l}>{l}</option>\r\n                                        ))}\r\n                                    </Form.Control>\r\n                                </Col>\r\n                                <Col sm={2}>\r\n                                    <Form.Control as=\"select\" defaultValue={(data.type) ? data.type : ''} onChange={(text) => { this.setState({ ...this.state, storyType: text.target.value }); }}>\r\n                                        {types.map((l) => (\r\n                                            <option key={'types' + l} value={l}>{l}</option>\r\n                                        ))}\r\n                                    </Form.Control>\r\n                                </Col>\r\n                            </Row>\r\n                            <br />\r\n                            <Row>\r\n                                <Col sm={4}>\r\n                                    <Form.Label>As a...</Form.Label>\r\n                                </Col>\r\n                                <Col sm={4}>\r\n                                    <Form.Label> I want to...</Form.Label>\r\n                                </Col>\r\n                                <Col sm={4}>\r\n                                    <Form.Label>So that...</Form.Label>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col sm={4}>\r\n                                    <Form.Control as='textarea' rows='4' placeholder={(data.as) ? data.as : ''} onChange={(text) => { this.setState({ ...this.state, storyAs: text.target.value }); }} />\r\n                                </Col>\r\n                                <Col sm={4}>\r\n                                    <Form.Control as='textarea' rows='4' placeholder={(data.i) ? data.i : ''} onChange={(text) => { this.setState({ ...this.state, storyI: text.target.value }); }} />\r\n                                </Col>\r\n                                <Col sm={4}>\r\n                                    <Form.Control as='textarea' rows='4' placeholder={(data.so) ? data.so : ''} onChange={(text) => { this.setState({ ...this.state, storySo: text.target.value }); }} />\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                    </Form>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\n\r\n    features() {\r\n        let temp = [];\r\n        if (this.props.feature !== '') {\r\n            let data = this.props.templateSimulation.simulation.features[this.props.feature];\r\n            temp.push(\r\n                <div key={'feat in edit'}>\r\n                    <Button variant='outline-success' style={{ float: 'right' }} onClick={() => { this.saveFeature() }}>Save Feature</Button>\r\n                    <h5 style={{margin: '20px'}}>Feature: {data.name}</h5>\r\n                    <Form>\r\n                        <Container>\r\n                            <Row>\r\n                                <Col sm={2}>\r\n                                    <Form.Label>Name</Form.Label>\r\n                                </Col>\r\n                                <Col sm={2}>\r\n                                    <Form.Label>Priority</Form.Label>\r\n                                </Col>\r\n                                <Col sm={4}>\r\n                                    <Form.Label>Desc</Form.Label>\r\n                                </Col>\r\n                                <Col sm={4}>\r\n                                    <Form.Label>Benefit Hypothesis</Form.Label>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col sm={2}>\r\n                                    <Form.Control id='featureName' placeholder={data.name} onChange={(text) => { this.setState({ ...this.state, featName: text.target.value }); }} />\r\n                                </Col>\r\n                                <Col sm={2}>\r\n                                    <Form.Control id='featurePriority' as=\"select\" defaultValue={(data.priority) ? data.priority : ''} onChange={(text) => { this.setState({ ...this.state, featPriority: text.target.value }); }}>\r\n                                        <option key='chosePri' value=''>Choose</option>\r\n                                        {Object.keys(this.props.templateSimulation.simulation.features).map((l, i) => (\r\n                                            <option key={l} value={i + 1}>{i + 1}</option>\r\n                                        ))}\r\n                                    </Form.Control>\r\n                                </Col>\r\n                                <Col sm={4}>\r\n                                    <Form.Control id='featureDesc' as='textarea' rows='4' placeholder={(data.desc) ? data.desc : ''} onChange={(text) => { this.setState({ ...this.state, featDesc: text.target.value }); }} />\r\n                                </Col>\r\n                                <Col sm={4}>\r\n                                    <Form.Control id='featureBenefit' as='textarea' rows='4' placeholder={(data.benefit) ? data.benefit : ''} onChange={(text) => { this.setState({ ...this.state, featBenefit: text.target.value }); }} />\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                    </Form>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ width: '100%', height: '100%' }}>\r\n            <Card>\r\n                <Card.Body>\r\n                    <Card.Header>\r\n                        <Form inline>\r\n                            <Card.Title style={{ marginRight: '40px' }}>Edit</Card.Title>\r\n                        </Form>\r\n                    </Card.Header>\r\n                        {this.features()}\r\n                        {(this.props.story !== '' && this.props.templateSimulation.simulation.features[this.props.feature].stories) ? <>\r\n                            <br />\r\n                            <hr />\r\n                            <br />\r\n                            {this.story()}\r\n                            </>\r\n                        : <></>}\r\n                </Card.Body>\r\n            </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        templateSimulation: state.templateSimulation\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { handleGrabTemplateSimulation, handleNewTemplateSimulation, handleNewTemplateFeature, handleDeleteTemplateFeature, handleUpdateTemplateFeature, handleNewTemplateStory, handleUpdateTemplateStory })(Main);"]},"metadata":{},"sourceType":"module"}